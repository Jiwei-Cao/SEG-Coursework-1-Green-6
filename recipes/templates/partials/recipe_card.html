<div class="card shadow text-center individual_recipe_card align-items-center">
  {% if recipe.img %}
  <img
    src="{{ recipe.img.url }}"
    alt="{{ recipe.title }}"
    class="recipe-image"
  />
  {% endif %}

  <div class="card-body d-flex flex-column">
    <h5 class="card-title">{{ recipe.title }}</h5>
    <p class="card-text">{{ recipe.description }}</p>
    <div class="row">
      {% for tag in recipe.tags.all %}
      <div class="col-4">
        <p>{{tag.name}}</p>
      </div>
      {% endfor %}
    </div>
    <div class="mt-auto d-flex flex-column flex-md-row justify-content-center gap-3">
    {% if recipe.user != user %}
      <form method="post" action="{% url 'toggle_favourite' recipe.id %}">
        {% csrf_token %}
        {% if user in recipe.favourites.all %}
        <input
          type="hidden"
          name="favourite_recipe"
          value="unfavourite_recipe"
        />
        <button type="submit" class="favourite-button w-auto mt-auto">
          Unfavourite <i class="bi bi-heartbreak-fill"></i>
        </button>
        {% else %}
        <button type="submit" class="favourite-button w-auto mt-auto">
          Favourite <i class="bi bi-heart"></i>
        </button>
        {% endif %}
      </form>

    {% endif %}

      {% if recipe.id %}
      <a href="{% url 'get_recipe' recipe.id %}" class="btn link-button w-auto mx-auto">
        Check it out
      </a>
      {% endif %}
    </div>
  </div>
</div>

